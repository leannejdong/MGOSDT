==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 8 at 0x5654de85d510 by thread T2:
    #0 void tbb::internal::spin_wait_until_eq<unsigned long, unsigned long>(unsigned long const volatile&, unsigned long) <null> (gosdt+0x6a98f)
    #1 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69ef2)
    #2 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #3 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #4 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #5 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #6 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #7 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #8 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #9 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #10 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #11 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #13 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous atomic write of size 8 at 0x5654de85d510 by thread T1:
    #0 __tsan_atomic64_store <null> (libtsan.so.0+0x7daed)
    #1 void tbb::internal::__TBB_machine_atomic_store<unsigned long, 3>(unsigned long volatile&, unsigned long) <null> (gosdt+0x68227)
    #2 tbb::internal::machine_load_store<unsigned long, 8ul>::store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6791c)
    #3 tbb::internal::__TBB_store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6754f)
    #4 void tbb::internal::itt_store_word_with_release<unsigned long>(unsigned long&, unsigned long) <null> (gosdt+0x6aac7)
    #5 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f6a)
    #6 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #7 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #8 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #9 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #10 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #11 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #12 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #13 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #14 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #15 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #17 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is global 'State::queue' of size 864 at 0x5654de85d2c0 (gosdt+0x000000154510)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x6a98f) in void tbb::internal::spin_wait_until_eq<unsigned long, unsigned long>(unsigned long const volatile&, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic write of size 8 at 0x7f7cd579d9f0 by thread T2:
    #0 __tsan_atomic64_store <null> (libtsan.so.0+0x7daed)
    #1 void tbb::internal::__TBB_machine_atomic_store<unsigned long, 3>(unsigned long volatile&, unsigned long) <null> (gosdt+0x68227)
    #2 tbb::internal::machine_load_store<unsigned long, 8ul>::store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6791c)
    #3 tbb::internal::__TBB_store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6754f)
    #4 void tbb::internal::itt_store_word_with_release<unsigned long>(unsigned long&, unsigned long) <null> (gosdt+0x6aac7)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b12f)
    #6 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #7 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #8 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #9 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #10 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #11 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 8 at 0x7f7cd579d9f0 by thread T1:
    #0 void tbb::internal::spin_wait_while_eq<unsigned long, unsigned long>(unsigned long const volatile&, unsigned long) <null> (gosdt+0x69fd6)
    #1 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x69501)
    #2 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #3 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::push(Message* const&) <null> (gosdt+0x67d76)
    #4 Queue::push(Message const&) <null> (gosdt+0x671c4)
    #5 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x57319)
    #6 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #7 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #8 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #9 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #10 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #11 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #12 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #13 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #15 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of thread T1.

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7daed) in __tsan_atomic64_store
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 8 at 0x5654de85d610 by thread T3:
    #0 std::vector<Message*, tbb::scalable_allocator<Message*> >::size() const <null> (gosdt+0x6b746)
    #1 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aeee)
    #2 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #3 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #4 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #5 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #6 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #7 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #8 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #9 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #10 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #11 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #12 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #13 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #15 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x5654de85d610 by thread T2:
    #0 std::vector<Message*, tbb::scalable_allocator<Message*> >::pop_back() <null> (gosdt+0x6b828)
    #1 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::reheap() <null> (gosdt+0x6bc87)
    #2 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b3b3)
    #3 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #4 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #5 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #6 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #7 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #8 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #9 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #10 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #11 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #12 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #13 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #14 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #15 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #16 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is global 'State::queue' of size 864 at 0x5654de85d2c0 (gosdt+0x000000154610)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x6b746) in std::vector<Message*, tbb::scalable_allocator<Message*> >::size() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Write of size 8 at 0x5654de85d588 by thread T1:
    #0 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::heapify() <null> (gosdt+0x6bd9e)
    #1 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b3fb)
    #2 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #3 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #4 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #5 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #6 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::push(Message* const&) <null> (gosdt+0x67d76)
    #7 Queue::push(Message const&) <null> (gosdt+0x671c4)
    #8 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x57319)
    #9 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56dc7)
    #10 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #11 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #12 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #13 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #14 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #15 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #16 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #18 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 8 at 0x5654de85d588 by thread T3:
    #0 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b3c8)
    #1 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #2 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #3 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #4 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #6 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is global 'State::queue' of size 864 at 0x5654de85d2c0 (gosdt+0x000000154588)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x6bd9e) in tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::heapify()
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Write of size 8 at 0x5654de85cbc0 by thread T2:
    #0 tbb::interface5::internal::hash_map_base::add_to_bucket(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*) <null> (gosdt+0x58448)
    #1 tbb::interface5::internal::hash_map_base::insert_new_node(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*, unsigned long) <null> (gosdt+0x58797)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b77b)
    #3 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #5 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #6 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 8 at 0x5654de85cbc0 by thread T1:
    #0 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x5d3d6)
    #1 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b647)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #3 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #4 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56dc7)
    #5 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #6 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #7 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #8 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #9 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #10 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #11 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #13 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is global 'State::graph' of size 2920 at 0x5654de85c740 (gosdt+0x000000153bc0)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x58448) in tbb::interface5::internal::hash_map_base::add_to_bucket(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x5654de85cbc0 by thread T1:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f183)
    #6 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b622)
    #8 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #9 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #10 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #11 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x5654de85cbc0 by thread T2:
    #0 tbb::interface5::internal::hash_map_base::add_to_bucket(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*) <null> (gosdt+0x58448)
    #1 tbb::interface5::internal::hash_map_base::insert_new_node(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*, unsigned long) <null> (gosdt+0x58797)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b77b)
    #3 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #5 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #6 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is global 'State::graph' of size 2920 at 0x5654de85c740 (gosdt+0x000000153bc0)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 8 at 0x7f7cd61d3c30 by thread T3:
    #0 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b351)
    #1 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #2 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #3 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #4 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #6 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61d3c30 by thread T1:
    #0 void tbb::scalable_allocator<Message*>::construct<Message*, Message* const&>(Message**, Message* const&) <null> (gosdt+0x6d2b2)
    #1 std::enable_if<std::__and_<std::allocator_traits<tbb::scalable_allocator<Message*> >::__construct_helper<Message*, Message* const&>::type>::value, void>::type std::allocator_traits<tbb::scalable_allocator<Message*> >::_S_construct<Message*, Message* const&>(tbb::scalable_allocator<Message*>&, Message**, Message* const&) <null> (gosdt+0x6cdfb)
    #2 decltype (_S_construct({parm#1}, {parm#2}, (forward<Message* const&>)({parm#3}))) std::allocator_traits<tbb::scalable_allocator<Message*> >::construct<Message*, Message* const&>(tbb::scalable_allocator<Message*>&, Message**, Message* const&) <null> (gosdt+0x6c479)
    #3 std::vector<Message*, tbb::scalable_allocator<Message*> >::push_back(Message* const&) <null> (gosdt+0x6c0fe)
    #4 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::push_back_helper(Message* const&, tbb::internal::bool_constant<true>) <null> (gosdt+0x6b8de)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b0b0)
    #6 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #7 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #8 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #9 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #10 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::push(Message* const&) <null> (gosdt+0x67d76)
    #11 Queue::push(Message const&) <null> (gosdt+0x671c4)
    #12 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x57319)
    #13 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56dc7)
    #14 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #15 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #16 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #17 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #18 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #19 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #20 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #21 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #22 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x6b351) in tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 8 at 0x5654de85d590 by thread T3:
    #0 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b372)
    #1 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #2 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #3 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #4 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #6 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous atomic write of size 8 at 0x5654de85d590 by thread T1:
    #0 __tsan_atomic64_store <null> (libtsan.so.0+0x7daed)
    #1 void tbb::internal::__TBB_machine_atomic_store<unsigned long, 3>(unsigned long volatile&, unsigned long) <null> (gosdt+0x68227)
    #2 tbb::internal::machine_load_store<unsigned long, 8ul>::store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6791c)
    #3 tbb::internal::__TBB_store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6754f)
    #4 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b11e)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #6 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #7 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #8 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #9 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::push(Message* const&) <null> (gosdt+0x67d76)
    #10 Queue::push(Message const&) <null> (gosdt+0x671c4)
    #11 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x57319)
    #12 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56dc7)
    #13 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #14 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #15 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #16 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #17 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #18 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #19 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #20 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #21 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is global 'State::queue' of size 864 at 0x5654de85d2c0 (gosdt+0x000000154590)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x6b372) in tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7f7cd6197fc0 by thread T1:
    #0 Tile::operator==(Tile const&) const <null> (gosdt+0x63a7f)
    #1 bool std::operator==<Tile, int>(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x5949c)
    #2 GraphChildHashComparator::equal(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x58a8e)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x5d410)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b647)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #6 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #7 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #8 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #9 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #10 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #11 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #12 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #13 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #14 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #15 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #16 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd6197fc0 by thread T2:
    #0 void tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd5565)
    #1 std::enable_if<std::__and_<std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::__construct_helper<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::type>::value, void>::type std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::_S_construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd4332)
    #2 decltype (_S_construct({parm#1}, {parm#2})) std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd2908)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::create_node<std::pair<Tile, int> const&, Tile>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile&&) <null> (gosdt+0xd06aa)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::allocate_node_move_construct(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*) <null> (gosdt+0xced05)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b68f)
    #6 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #8 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #9 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #10 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #11 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #12 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #13 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #14 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #15 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #17 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x63a7f) in Tile::operator==(Tile const&) const
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 8 at 0x7f7cd6197fa0 by thread T1:
    #0 Bitmask::valid() const <null> (gosdt+0x11036)
    #1 Bitmask::operator==(Bitmask const&) const <null> (gosdt+0xffcc)
    #2 Tile::operator==(Tile const&) const <null> (gosdt+0x63a9d)
    #3 bool std::operator==<Tile, int>(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x5949c)
    #4 GraphChildHashComparator::equal(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x58a8e)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x5d410)
    #6 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b647)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #8 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #9 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #10 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #11 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #12 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #13 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #14 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #15 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #16 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #18 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd6197fa0 by thread T2:
    #0 void tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd5565)
    #1 std::enable_if<std::__and_<std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::__construct_helper<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::type>::value, void>::type std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::_S_construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd4332)
    #2 decltype (_S_construct({parm#1}, {parm#2})) std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd2908)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::create_node<std::pair<Tile, int> const&, Tile>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile&&) <null> (gosdt+0xd06aa)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::allocate_node_move_construct(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*) <null> (gosdt+0xced05)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b68f)
    #6 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #8 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #9 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #10 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #11 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #12 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #13 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #14 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #15 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #17 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x11036) in Bitmask::valid() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61cef50 by thread T3:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >*, unsigned long, bool) <null> (gosdt+0x695ed)
    #6 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >*, unsigned long, bool) <null> (gosdt+0x689b1)
    #7 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::lookup(bool, Message* const&, bool const*, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node>&, Message* const&, bool const*), tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node*) <null> (gosdt+0x68f9c)
    #8 bool tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used&&, std::pair<Message* const, bool>&&) <null> (gosdt+0x687c3)
    #9 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::insert(std::pair<Message* const, bool>&&) <null> (gosdt+0x67cdd)
    #10 Queue::push(Message const&) <null> (gosdt+0x671a6)
    #11 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #12 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #13 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #14 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #15 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #16 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #17 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #18 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #19 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #20 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61cef50 by thread T2:
    #0 tbb::interface5::internal::hash_map_base::add_to_bucket(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*) <null> (gosdt+0x58448)
    #1 tbb::interface5::internal::hash_map_base::insert_new_node(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*, unsigned long) <null> (gosdt+0x58797)
    #2 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::lookup(bool, Message* const&, bool const*, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node>&, Message* const&, bool const*), tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node*) <null> (gosdt+0x690f5)
    #3 bool tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used&&, std::pair<Message* const, bool>&&) <null> (gosdt+0x687c3)
    #4 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::insert(std::pair<Message* const, bool>&&) <null> (gosdt+0x67cdd)
    #5 Queue::push(Message const&) <null> (gosdt+0x671a6)
    #6 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #7 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #8 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #9 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #10 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #11 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #12 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #13 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #15 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic write of size 8 at 0x7f7cd4f9cbb0 by thread T4:
    #0 __tsan_atomic64_store <null> (libtsan.so.0+0x7daed)
    #1 void tbb::internal::__TBB_machine_atomic_store<unsigned long, 3>(unsigned long volatile&, unsigned long) <null> (gosdt+0x68227)
    #2 tbb::internal::machine_load_store<unsigned long, 8ul>::store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6791c)
    #3 tbb::internal::__TBB_store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6754f)
    #4 void tbb::internal::itt_store_word_with_release<unsigned long>(unsigned long&, unsigned long) <null> (gosdt+0x6aac7)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b12f)
    #6 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #7 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #8 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #9 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #10 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #11 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 8 at 0x7f7cd4f9cbb0 by thread T2:
    #0 void tbb::internal::spin_wait_while_eq<unsigned long, unsigned long>(unsigned long const volatile&, unsigned long) <null> (gosdt+0x69fd6)
    #1 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x69501)
    #2 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #3 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::push(Message* const&) <null> (gosdt+0x67d76)
    #4 Queue::push(Message const&) <null> (gosdt+0x671c4)
    #5 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #6 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of thread T2.

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7daed) in __tsan_atomic64_store
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7ffefcea0fd8 by thread T2:
    #0 Optimizer::iterate(unsigned int) <null> (gosdt+0xc79c0)
    #1 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #2 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #3 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #4 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #5 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #7 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 4 at 0x7ffefcea0fd8 by thread T3:
    #0 Optimizer::iterate(unsigned int) <null> (gosdt+0xc79df)
    #1 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #2 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #3 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #4 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #5 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #7 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x00000001efd8)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0xc79c0) in Optimizer::iterate(unsigned int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7f7cd6197fa8 by thread T1:
    #0 Bitmask::size() const <null> (gosdt+0xd95a)
    #1 Bitmask::operator==(Bitmask const&) const <null> (gosdt+0x100de)
    #2 Tile::operator==(Tile const&) const <null> (gosdt+0x63a9d)
    #3 bool std::operator==<Tile, int>(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x5949c)
    #4 GraphChildHashComparator::equal(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x58a8e)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x5d410)
    #6 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b647)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #8 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #9 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #10 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #11 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #12 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #13 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #14 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #15 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #16 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #18 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd6197fa8 by thread T2:
    #0 void tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd5565)
    #1 std::enable_if<std::__and_<std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::__construct_helper<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::type>::value, void>::type std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::_S_construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd4332)
    #2 decltype (_S_construct({parm#1}, {parm#2})) std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd2908)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::create_node<std::pair<Tile, int> const&, Tile>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile&&) <null> (gosdt+0xd06aa)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::allocate_node_move_construct(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*) <null> (gosdt+0xced05)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b68f)
    #6 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #8 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #9 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #10 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #11 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #12 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #13 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #14 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #15 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #17 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0xd95a) in Bitmask::size() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7b3c000000d8 by thread T4:
    #0 float const& std::max<float>(float const&, float const&) <null> (gosdt+0x59532)
    #1 MembershipKeyHashCompare::equal(Message*, Message*) <null> (gosdt+0x677f2)
    #2 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::erase(Message* const&) <null> (gosdt+0x6802d)
    #3 Queue::pop(Message&) <null> (gosdt+0x67356)
    #4 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #5 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #6 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #7 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #8 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #9 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #11 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 4 at 0x7b3c000000d8 by thread T3:
    #0 MembershipKeyHashCompare::equal(Message*, Message*) <null> (gosdt+0x6786f)
    #1 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::search_bucket(Message* const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x69a2f)
    #2 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::lookup(bool, Message* const&, bool const*, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node>&, Message* const&, bool const*), tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node*) <null> (gosdt+0x68fc1)
    #3 bool tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used&&, std::pair<Message* const, bool>&&) <null> (gosdt+0x687c3)
    #4 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::insert(std::pair<Message* const, bool>&&) <null> (gosdt+0x67cdd)
    #5 Queue::push(Message const&) <null> (gosdt+0x671a6)
    #6 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #7 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #8 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #9 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #10 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #11 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #12 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #13 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #15 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is heap block of size 240 at 0x7b3c00000000 allocated by thread T2:
    #0 operator new(unsigned long) <null> (libtsan.so.0+0x8c012)
    #1 Queue::push(Message const&) <null> (gosdt+0x6711b)
    #2 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #3 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #4 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #5 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #6 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #7 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #8 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #9 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #11 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x59532) in float const& std::max<float>(float const&, float const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic write of size 8 at 0x7f7cd479bfd0 by thread T2:
    #0 __tsan_atomic64_store <null> (libtsan.so.0+0x7daed)
    #1 void tbb::internal::__TBB_machine_atomic_store<unsigned long, 3>(unsigned long volatile&, unsigned long) <null> (gosdt+0x68227)
    #2 tbb::internal::machine_load_store<unsigned long, 8ul>::store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6791c)
    #3 tbb::internal::__TBB_store_with_release(unsigned long volatile&, unsigned long) <null> (gosdt+0x6754f)
    #4 void tbb::internal::itt_store_word_with_release<unsigned long>(unsigned long&, unsigned long) <null> (gosdt+0x6aac7)
    #5 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::handle_operations(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6b182)
    #6 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t::operator()(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6aa6e)
    #7 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::start_handle_operations<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&) <null> (gosdt+0x69f55)
    #8 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x694d6)
    #9 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #10 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #11 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 8 at 0x7f7cd479bfd0 by thread T3:
    #0 void tbb::internal::spin_wait_while_eq<unsigned long, unsigned long>(unsigned long const volatile&, unsigned long) <null> (gosdt+0x69fd6)
    #1 void tbb::interface6::internal::aggregator_generic<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t>(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t&, bool) <null> (gosdt+0x69501)
    #2 tbb::interface6::internal::aggregator<tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::my_functor_t, tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation>::execute(tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::cpq_operation*) <null> (gosdt+0x6889b)
    #3 tbb::interface5::concurrent_priority_queue<Message*, PriorityKeyComparator, tbb::scalable_allocator<Message*> >::try_pop(Message*&) <null> (gosdt+0x67e99)
    #4 Queue::pop(Message&) <null> (gosdt+0x6733f)
    #5 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7942)
    #6 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #7 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #8 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #9 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #10 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #12 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of thread T3.

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7daed) in __tsan_atomic64_store
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7f7cd6197fc8 by thread T1:
    #0 bool std::operator==<Tile, int>(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x594c7)
    #1 GraphChildHashComparator::equal(std::pair<Tile, int> const&, std::pair<Tile, int> const&) <null> (gosdt+0x58a8e)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x5d410)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b647)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #5 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #6 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #7 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #8 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #9 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #10 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #11 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #12 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #13 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #15 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd6197fc8 by thread T2:
    #0 void tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd5565)
    #1 std::enable_if<std::__and_<std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::__construct_helper<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>::type>::value, void>::type std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::_S_construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd4332)
    #2 decltype (_S_construct({parm#1}, {parm#2})) std::allocator_traits<tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node> >::construct<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0xd2908)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::create_node<std::pair<Tile, int> const&, Tile>(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile&&) <null> (gosdt+0xd06aa)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::allocate_node_move_construct(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*) <null> (gosdt+0xced05)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b68f)
    #6 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #8 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #9 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #10 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #11 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #12 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #13 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #14 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #15 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #17 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x594c7) in bool std::operator==<Tile, int>(std::pair<Tile, int> const&, std::pair<Tile, int> const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 8 at 0x7f7cd6197f90 by thread T1:
    #0 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x5d433)
    #1 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b647)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #3 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #4 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56d7a)
    #5 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #6 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #7 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #8 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #9 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #10 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #11 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #13 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd6197f90 by thread T2:
    #0 tbb::interface5::internal::hash_map_base::add_to_bucket(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*) <null> (gosdt+0x58431)
    #1 tbb::interface5::internal::hash_map_base::insert_new_node(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*, unsigned long) <null> (gosdt+0x58797)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b77b)
    #3 bool tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor_not_used&&, std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xccfcd)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::insert(std::pair<std::pair<Tile, int> const, Tile>&&) <null> (gosdt+0xcac81)
    #5 Optimizer::link_to_parent(Tile const&, Bitmask const&, Bitmask const&, float, Tile const&, std::vector<int, std::allocator<int> > const&, tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&) <null> (gosdt+0xc49ad)
    #6 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc27dc)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x5d433) in tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::search_bucket(std::pair<Tile, int> const&, tbb::interface5::internal::hash_map_base::bucket*) const
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61ba0f8 by thread T3:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f56d)
    #6 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #7 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x609ac)
    #8 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f610)
    #9 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #10 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x609ac)
    #11 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f610)
    #12 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #13 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x609ac)
    #14 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f610)
    #15 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #16 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x609ac)
    #17 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f610)
    #18 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #19 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::lookup(bool, Tile const&, Task const*, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node>&, Tile const&, Task const*), tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node*) <null> (gosdt+0x5bb90)
    #20 bool tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&>(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&, std::pair<Tile const, Task>&&) <null> (gosdt+0xcc84f)
    #21 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::insert(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&, std::pair<Tile const, Task>&&) <null> (gosdt+0xca600)
    #22 Optimizer::store_self(Tile const&, Task const&, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&) <null> (gosdt+0xc3da0)
    #23 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2533)
    #24 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #25 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #26 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #27 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #28 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #29 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #30 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #31 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61ba0f8 by thread T4:
    [failed to restore the stack]

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61ba9f8 by thread T2:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f56d)
    #6 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #7 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::lookup(bool, Tile const&, Task const*, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node>&, Tile const&, Task const*), tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node*) <null> (gosdt+0x5bb90)
    #8 bool tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&>(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&, std::pair<Tile const, Task>&&) <null> (gosdt+0xcc84f)
    #9 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::insert(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&, std::pair<Tile const, Task>&&) <null> (gosdt+0xca600)
    #10 Optimizer::store_self(Tile const&, Task const&, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&) <null> (gosdt+0xc3da0)
    #11 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2533)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61ba9f8 by thread T4:
    [failed to restore the stack]

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61900d8 by thread T4:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f183)
    #6 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x6056e)
    #8 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f226)
    #9 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #10 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x6056e)
    #11 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f226)
    #12 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #13 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x6056e)
    #14 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f226)
    #15 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #16 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b622)
    #17 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #18 Optimizer::load_children(Task&, Bitmask const&, unsigned int) <null> (gosdt+0xc3064)
    #19 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2a3a)
    #20 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #21 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #22 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #23 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #24 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #25 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #26 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #27 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61900d8 by thread T1:
    #0 tbb::interface5::internal::hash_map_base::add_to_bucket(tbb::interface5::internal::hash_map_base::bucket*, tbb::interface5::internal::hash_map_node_base*) <null> (gosdt+0x58448)
    #1 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x6063f)
    #2 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f226)
    #3 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #4 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0x6056e)
    #5 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5f226)
    #6 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >*, unsigned long, bool) <null> (gosdt+0x5d36f)
    #7 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::lookup(bool, std::pair<Tile, int> const&, Tile const*, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node>&, std::pair<Tile, int> const&, Tile const*), tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::node*) <null> (gosdt+0x5b622)
    #8 tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::find(tbb::interface5::concurrent_hash_map<std::pair<Tile, int>, Tile, GraphChildHashComparator, tbb::scalable_allocator<std::pair<std::pair<Tile, int> const, Tile> > >::accessor&, std::pair<Tile, int> const&) <null> (gosdt+0x5a0f5)
    #9 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x56f20)
    #10 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56dc7)
    #11 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61ba0f8 by thread T1:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5f56d)
    #6 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >*, unsigned long, bool) <null> (gosdt+0x5d859)
    #7 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::lookup(bool, Tile const&, Task const*, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node>&, Tile const&, Task const*), tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::node*) <null> (gosdt+0x5bb90)
    #8 bool tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&>(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&, std::pair<Tile const, Task>&&) <null> (gosdt+0xcc84f)
    #9 tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::insert(tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&, std::pair<Tile const, Task>&&) <null> (gosdt+0xca600)
    #10 Optimizer::store_self(Tile const&, Task const&, tbb::interface5::concurrent_hash_map<Tile, Task, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, Task> > >::accessor&) <null> (gosdt+0xc3da0)
    #11 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2533)
    #12 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #13 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #14 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #15 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #16 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #17 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #18 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #19 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61ba0f8 by thread T4:
    [failed to restore the stack]

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61b8138 by thread T3:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfbd9)
    #6 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #7 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #8 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #9 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #10 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #11 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #12 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #13 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #14 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #15 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #16 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #17 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #18 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #19 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::lookup(bool, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node>&, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*), tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node*) <null> (gosdt+0xcb8b6)
    #20 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::insert(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::accessor&, Tile const&) <null> (gosdt+0xca68b)
    #21 Optimizer::store_children(Task&, unsigned int) <null> (gosdt+0xc3ea1)
    #22 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2564)
    #23 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #24 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #25 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #26 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #27 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #28 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #29 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #30 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61b8138 by thread T4:
    #0 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1c03)
    #1 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #2 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #3 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #4 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #5 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #6 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #7 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #8 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #9 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::lookup(bool, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node>&, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*), tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node*) <null> (gosdt+0xcb8b6)
    #10 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::find(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::accessor&, Tile const&) <null> (gosdt+0xc952b)
    #11 Optimizer::load_children(Task&, Bitmask const&, unsigned int) <null> (gosdt+0xc2eec)
    #12 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2a3a)
    #13 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #14 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #15 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #16 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #17 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #18 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #19 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #20 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61b8a38 by thread T2:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfbd9)
    #6 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #7 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::lookup(bool, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node>&, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*), tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node*) <null> (gosdt+0xcb8b6)
    #8 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::insert(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::accessor&, Tile const&) <null> (gosdt+0xca68b)
    #9 Optimizer::store_children(Task&, unsigned int) <null> (gosdt+0xc3ea1)
    #10 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2564)
    #11 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #12 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #13 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #14 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #15 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #16 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #18 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61b8a38 by thread T4:
    #0 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1c03)
    #1 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #2 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #3 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::lookup(bool, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node>&, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*), tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node*) <null> (gosdt+0xcb8b6)
    #4 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::find(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::accessor&, Tile const&) <null> (gosdt+0xc952b)
    #5 Optimizer::load_children(Task&, Bitmask const&, unsigned int) <null> (gosdt+0xc2eec)
    #6 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2a3a)
    #7 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #8 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #9 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #10 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #11 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #12 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #14 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Write of size 4 at 0x7f7cd61c7fc4 by thread T4:
    #0 Task::update(float, float, int) <null> (gosdt+0x57522)
    #1 Optimizer::load_children(Task&, Bitmask const&, unsigned int) <null> (gosdt+0xc3b8d)
    #2 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2a3a)
    #3 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #4 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #5 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #6 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #7 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #8 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #10 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 4 at 0x7f7cd61c7fc4 by thread T1:
    #0 Task::send_explorer(Task const&, float, int, unsigned int) <null> (gosdt+0x57263)
    #1 Task::send_explorers(float, unsigned int) <null> (gosdt+0x56dc7)
    #2 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc28c5)
    #3 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #4 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #5 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #6 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #7 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #8 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #10 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x57522) in Task::update(float, float, int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Write of size 4 at 0x7ffefcea0fb8 by thread T4:
    #0 Optimizer::update_root(float, float) <null> (gosdt+0xc5003)
    #1 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2af1)
    #2 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #3 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #4 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #5 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #6 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #7 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #9 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 4 at 0x7ffefcea0fb8 by thread T1:
    #0 Optimizer::uncertainty() const <null> (gosdt+0xc76e2)
    #1 Optimizer::complete() const <null> (gosdt+0xc787c)
    #2 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7b1d)
    #3 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #4 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #5 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #6 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #7 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #9 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x00000001efb8)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0xc5003) in Optimizer::update_root(float, float)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Write of size 4 at 0x7ffefcea0fb4 by thread T4:
    #0 Optimizer::update_root(float, float) <null> (gosdt+0xc5021)
    #1 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2af1)
    #2 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #3 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #4 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #5 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #6 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #7 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #9 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous read of size 4 at 0x7ffefcea0fb4 by thread T1:
    #0 Optimizer::uncertainty() const <null> (gosdt+0xc76c4)
    #1 Optimizer::complete() const <null> (gosdt+0xc787c)
    #2 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7b1d)
    #3 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #4 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #5 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #6 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #7 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #9 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x00000001efb4)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0xc5021) in Optimizer::update_root(float, float)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 1 at 0x7ffefcea0f68 by thread T4:
    #0 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7ba9)
    #1 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #2 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #3 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #4 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #5 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #7 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 1 at 0x7ffefcea0f68 by thread T1:
    #0 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7b7a)
    #1 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #2 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #3 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #4 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #5 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #7 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x00000001ef68)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0xc7ba9) in Optimizer::iterate(unsigned int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7b3c00007ab8 by thread T3:
    #0 float const& std::max<float>(float const&, float const&) <null> (gosdt+0x5954b)
    #1 MembershipKeyHashCompare::equal(Message*, Message*) <null> (gosdt+0x677f2)
    #2 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::search_bucket(Message* const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x69a2f)
    #3 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::lookup(bool, Message* const&, bool const*, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node>&, Message* const&, bool const*), tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node*) <null> (gosdt+0x68fc1)
    #4 bool tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used&&, std::pair<Message* const, bool>&&) <null> (gosdt+0x687c3)
    #5 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::insert(std::pair<Message* const, bool>&&) <null> (gosdt+0x67cdd)
    #6 Queue::push(Message const&) <null> (gosdt+0x671a6)
    #7 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #8 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #9 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #10 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #11 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #12 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #13 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #14 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #15 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #16 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 4 at 0x7b3c00007ab8 by thread T2:
    #0 MembershipKeyHashCompare::equal(Message*, Message*) <null> (gosdt+0x6786f)
    #1 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::search_bucket(Message* const&, tbb::interface5::internal::hash_map_base::bucket*) const <null> (gosdt+0x69a2f)
    #2 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::lookup(bool, Message* const&, bool const*, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node>&, Message* const&, bool const*), tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::node*) <null> (gosdt+0x68fc1)
    #3 bool tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::generic_move_insert<tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used>(tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::accessor_not_used&&, std::pair<Message* const, bool>&&) <null> (gosdt+0x687c3)
    #4 tbb::interface5::concurrent_hash_map<Message*, bool, MembershipKeyHashCompare, tbb::scalable_allocator<std::pair<Message*, bool> > >::insert(std::pair<Message* const, bool>&&) <null> (gosdt+0x67cdd)
    #5 Queue::push(Message const&) <null> (gosdt+0x671a6)
    #6 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #7 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #8 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #9 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #10 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #11 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #12 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #13 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #15 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is heap block of size 240 at 0x7b3c000079e0 allocated by thread T2:
    #0 operator new(unsigned long) <null> (libtsan.so.0+0x8c012)
    #1 Queue::push(Message const&) <null> (gosdt+0x6711b)
    #2 Optimizer::signal_exploiters(tbb::interface5::concurrent_hash_map<Tile, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::interface5::concurrent_unordered_map<Tile, std::pair<Bitmask, float>, std::hash<Tile>, std::equal_to<Tile>, tbb::scalable_allocator<std::pair<Tile const, std::pair<Bitmask, float> > > > > > >::accessor&, Task&, unsigned int) <null> (gosdt+0xc4f1d)
    #3 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2814)
    #4 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #5 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #6 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #7 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #8 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #9 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #11 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T3 (tid=84710, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x5954b) in float const& std::max<float>(float const&, float const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Atomic read of size 8 at 0x7f7cd61b8138 by thread T1:
    #0 __tsan_atomic64_load <null> (libtsan.so.0+0x7cec7)
    #1 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_machine_atomic_load<tbb::interface5::internal::hash_map_node_base*, 2>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ed06)
    #2 tbb::internal::machine_load_store<tbb::interface5::internal::hash_map_node_base*, 8ul>::load_with_acquire(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5cc75)
    #3 tbb::interface5::internal::hash_map_node_base* tbb::internal::__TBB_load_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const volatile&) <null> (gosdt+0x5ab1a)
    #4 tbb::interface5::internal::hash_map_node_base* tbb::internal::itt_load_word_with_acquire<tbb::interface5::internal::hash_map_node_base*>(tbb::interface5::internal::hash_map_node_base* const&) <null> (gosdt+0x59328)
    #5 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfbd9)
    #6 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #7 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::lookup(bool, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node>&, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*), tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node*) <null> (gosdt+0xcb8b6)
    #8 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::insert(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::accessor&, Tile const&) <null> (gosdt+0xca68b)
    #9 Optimizer::store_children(Task&, unsigned int) <null> (gosdt+0xc3ea1)
    #10 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2564)
    #11 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #12 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #13 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #14 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #15 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #16 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #18 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 8 at 0x7f7cd61b8138 by thread T4:
    #0 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1c03)
    #1 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #2 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #3 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #4 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #5 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #6 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::rehash_bucket(tbb::interface5::internal::hash_map_base::bucket*, unsigned long) <null> (gosdt+0xd1b4c)
    #7 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::acquire(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcfc7c)
    #8 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::bucket_accessor::bucket_accessor(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >*, unsigned long, bool) <null> (gosdt+0xcdd29)
    #9 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::lookup(bool, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::const_accessor*, bool, tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node* (*)(tbb::scalable_allocator<tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node>&, Tile const&, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > const*), tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::node*) <null> (gosdt+0xcb8b6)
    #10 tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::find(tbb::interface5::concurrent_hash_map<Tile, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > >, GraphVertexHashComparator, tbb::scalable_allocator<std::pair<Tile const, tbb::concurrent_vector<std::tuple<unsigned int, float, float>, tbb::scalable_allocator<std::tuple<unsigned int, float, float> > > > > >::accessor&, Tile const&) <null> (gosdt+0xc952b)
    #11 Optimizer::load_children(Task&, Bitmask const&, unsigned int) <null> (gosdt+0xc2eec)
    #12 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2a3a)
    #13 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #14 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #15 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #16 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #17 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #18 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #19 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #20 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T1 (tid=84708, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/lib/x86_64-linux-gnu/libtsan.so.0+0x7cec7) in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7f7cd61c7fc8 by thread T2:
    #0 Task::upperbound() const <null> (gosdt+0x555c9)
    #1 Task::uncertainty() const <null> (gosdt+0x554c5)
    #2 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2972)
    #3 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #4 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #5 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #6 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #7 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #8 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #10 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 4 at 0x7f7cd61c7fc8 by thread T4:
    #0 Task::update(float, float, int) <null> (gosdt+0x57573)
    #1 Optimizer::load_children(Task&, Bitmask const&, unsigned int) <null> (gosdt+0xc3b8d)
    #2 Optimizer::dispatch(Message const&, unsigned int) <null> (gosdt+0xc2a3a)
    #3 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7972)
    #4 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #5 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #6 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #7 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #8 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #10 <null> <null> (libstdc++.so.6+0xd6d83)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0x555c9) in Task::upperbound() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=84706)
  Read of size 4 at 0x7ffefcea0fdc by thread T2:
    #0 Optimizer::iterate(unsigned int) <null> (gosdt+0xc79fd)
    #1 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #2 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #3 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #4 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #5 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #7 <null> <null> (libstdc++.so.6+0xd6d83)

  Previous write of size 4 at 0x7ffefcea0fdc by thread T4:
    #0 Optimizer::iterate(unsigned int) <null> (gosdt+0xc7a1c)
    #1 GOSDT::work(int, Optimizer&, int&) <null> (gosdt+0xe8827)
    #2 void std::__invoke_impl<void, void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::__invoke_other, void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecd7f)
    #3 std::__invoke_result<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >::type std::__invoke<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (*&&)(int, Optimizer&, int&), unsigned int&&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xecb6e)
    #4 void std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::_M_invoke<0ul, 1ul, 2ul, 3ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul>) <null> (gosdt+0xec99c)
    #5 std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > >::operator()() <null> (gosdt+0xec8d7)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(int, Optimizer&, int&), unsigned int, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> > > >::_M_run() <null> (gosdt+0xec87a)
    #7 <null> <null> (libstdc++.so.6+0xd6d83)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x00000001efdc)

  Thread T2 (tid=84709, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::_M_realloc_insert<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(__gnu_cxx::__normal_iterator<std::thread*, std::vector<std::thread, std::allocator<std::thread> > >, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea481)
    #5 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe9780)
    #6 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #7 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #8 main <null> (gosdt+0xed3e7)

  Thread T4 (tid=84711, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.0+0x5ea99)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xd7048)
    #2 void __gnu_cxx::new_allocator<std::thread>::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xeab70)
    #3 void std::allocator_traits<std::allocator<std::thread> >::construct<std::thread, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(std::allocator<std::thread>&, std::thread*, void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xea2ad)
    #4 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>, std::reference_wrapper<int> >(void (&)(int, Optimizer&, int&), unsigned int&, std::reference_wrapper<Optimizer>&&, std::reference_wrapper<int>&&) <null> (gosdt+0xe96e7)
    #5 GOSDT::fit(std::istream&, std::unordered_set<Model, std::hash<Model>, std::equal_to<Model>, std::allocator<Model> >&) <null> (gosdt+0xe7ad3)
    #6 GOSDT::fit(std::istream&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) <null> (gosdt+0xe7594)
    #7 main <null> (gosdt+0xed3e7)

SUMMARY: ThreadSanitizer: data race (/home/leanne/Dev/mgosdt/gosdt+0xc79fd) in Optimizer::iterate(unsigned int)
==================
checking...
ThreadSanitizer: reported 32 warnings
